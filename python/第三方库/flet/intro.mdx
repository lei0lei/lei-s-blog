---
title: Intro
slug: /python/flex
sidebar_position: 1
---

# Intro

通过使用flet controls可以构建基于flutter的GUI。flet不仅封装了flutter组件，还结合了一些小组件，隐藏了复杂性，
有一些合理的默认值,确保在最方便的情况下创建app。

下面是一个counter的例子:

```py
import flet as ft

def main(page: ft.Page):
    page.title = "Flet counter example"
    page.vertical_alignment = ft.MainAxisAlignment.CENTER

    txt_number = ft.TextField(value="0", text_align=ft.TextAlign.RIGHT, width=100)

    def minus_click(e):
        txt_number.value = str(int(txt_number.value) - 1)
        page.update()

    def plus_click(e):
        txt_number.value = str(int(txt_number.value) + 1)
        page.update()

    page.add(
        ft.Row(
            [
                ft.IconButton(ft.icons.REMOVE, on_click=minus_click),
                txt_number,
                ft.IconButton(ft.icons.ADD, on_click=plus_click),
            ],
            alignment=ft.MainAxisAlignment.CENTER,
        )
    )

ft.app(main)
```
安装flet模块:
```py
pip install flet
```
运行程序:
```py
flet run counter.py
```
![win](https://flet.dev/img/docs/getting-started/flet-counter-windows.png)

作为web运行:
![](https://flet.dev/img/docs/getting-started/flet-counter-safari.png)

## 安装

flet需要python版本3.8往上。
```sh
pip install flet
```
### poetry安装方式




## 创建flet app

创建flex app可以使用:
```sh
flet create <project-name>
```
flet会创建一个带main.py的文件夹:
```py
import flet as ft

def main(page: ft.Page):
    page.add(ft.SafeArea(ft.Text("Hello, Flet!")))

ft.app(main)
```

:::note

要在当前目录内创建使用:
```sh
flet create .
```
:::

flet程序的`main()`函数中可以给页面或者窗口添加UI元素。
`ft.app()`可以初始化flet app并运行main().

要从counter模板中创建新的flet app：

```sh
flet create --template counter <project-name>
```
要在当前目录中创建，运行:
```sh
flet create --template counter .
```

关于`flet create`查看[create](https://flet.dev/docs/reference/cli/create/).


## 运行flet app

flet的运行方式是桌面或者web应用，使用`flet run`命令。

作为桌面应用使用:
```sh
flet run
```
这会自动运行当前目录的main.如果需要运行其他位置的文件，传入相对路径或者绝对路径运行:
```sh
flet run [script]
```

使用web app运行:
```sh
flet run --web [script]
```
如果需要换端口:
```sh
flet run --web --port 8000 app.py
```

默认情况下，flet会监控运行的脚本文件，然后在文件修改保存的时候重载app,但是不会监控其他文件。
要监控相同目录的所有文件使用命令:

```sh
poetry run flet run -d [script]
```

要监控嵌套的所有文件，运行:
```sh
poetry run flet run -d -r [script]
```
关于详细的run命令，[查看](https://flet.dev/docs/reference/cli/run)


## flet controls
flet的用户接口由controls构成(有的框架会叫作widgets),要让一个controls可见，必须添加到`Page`或者其他controls内部。
`Page`是最顶层的control,最后所有嵌套的controls会表示为一颗树，`Page`就是root.

controls是普通的python 类，control的构建可以通过给构造器的属性提供参数值，比如:
```py
t = ft.Text(value="Hello, world!", color="green")
```
要把control显示到page上，将其添加到Page的control列表中，然后调用`page.update()`将page改变传给客户端。
```py
import flet as ft

def main(page: ft.Page):
    t = ft.Text(value="Hello, world!", color="green")
    page.controls.append(t)
    page.update()

ft.app(target=main)
```


## 自定义controls

## 自适应app

## 路由和导航


## async